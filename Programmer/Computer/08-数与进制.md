<!-- TOC -->

- [基本知识](#基本知识)
- [原码表示法](#原码表示法)
- [补码表示法](#补码表示法)
    - [逻辑右移和算术右移](#逻辑右移和算术右移)
- [浮点数](#浮点数)

<!-- /TOC -->

# 基本知识

- 进位制是一种记数方式, 亦称进位计数法或位值计数法
- 有限种数字符号来表示无限的数值
- 使用的数字符号的数目称为这种进位制的基数或底数

> 在计算机术语中，把二进制数中的某一位数又称为一个比特（bit）。比特这个单位对于计算机而言，在度量上是最小的单位。除了比特之外，还有字节（byte）这个术语。一个字节由 8 个比特构成。在某些单片机架构下还引入了半字节（nybble 或 nibble）这个概念，表示 4 个比特。然后，还有字（word）这个术语。字在不同计算机架构下表示的含义不同。在 x86 架构下，一个字为 2 个字节；而在 ARM 等众多 32 位 RISC 体系结构下，一个字表示为 4 个字节。随着计算机带宽的提升，能被处理器一次处理的数据宽度也不断提升，因此出现了双字（double word）、四字（quad word）、八字（octa word）等概念。双字的宽度为 2 个字，四字宽度为 4 个字，所以它们在不同处理器体系结构下所占用的字节个数也会不同。

# 原码表示法

> 而对于含有正负符号的原码，其二进制表示含有一位符号位，用于表示正负号。一般都是以二进制数的最高有效位（即最左边的比特）作为符号位，其余各位比特表示该数的绝对值大小。比如，十进制数 6 用一个 8 位的原码表示为 00000110；如果是 -6，则表示为 10000110。<br>
> 原码的表示非常直观，但是对于计算机算术运算而言就带来了许多麻烦。比如，我们用上述的 6 与 -6 相加，即 00000110+10000110，结果为 10001100，也就是十进制数 -12，显然不是我们想要的结果。所以，如果某个处理器用原码表示二进制数，那么它参与加减法的时候必须对两个操作数的正负符号加以判断，然后再判定使用加法操作还是减法操作，最后还要判定结果的正负符号，可谓相当麻烦。所以，当前计算机的处理器往往采用补码的方式来表达带符号的二进制数。

# 补码表示法

> 正由于原码含有上述缺点，所以人们开发出了另一种带符号的二进制码表示法——补码。补码与原码一样，用最高位比特表示符号位，其余各位比特则表示数值大小。如果符号位为 0，说明整个二进制数为正数或零；如果为 1，那么表示整个二进制数为负数。当符号位为0时，二进制补码表示法与原码一模一样，但是当符号位为负数时，情况就完全不同了。此时，对二进制数的补码表示需要按以下步骤进行：
> 1. 先将该二进制数以绝对值的原码形式写好；
> 2. 对整个二进制数（包括符号位），每一个比特都取反。所谓取反就是说，原来一个比特的数值为 0 时，则要变 1；为 1 时，则要变 0。
> 3. 变换好之后，将二进制数做加 1 计算，最终结果就是该负数的补码值了。<br>

```sh
# -6 的原码表示
  -6 | 10000110
# -6 的绝对值原码
   6 | 00000110
# -6 绝对值取反
     | 11111001
# -6 的补码
     | 11111010
```

## 逻辑右移和算术右移

当二进制数的值表示图形模式而非数值时，移位后需要在最高位补 0。类似于霓虹灯往右滚动的效果。这就称为逻辑右移。

右移有移位后在最高位补 0 和补 1 两种情况。将二进制数作为带符号的数值进行运算时，移位后要在最高位填充移位前符号位的值（0 或 1）。这就称为算术右移。如果数值是用补数表示的负数值，那么右移后在空出来的最高位补 1，就可以正确地实现 1/2、1/4、1/8 等的数值运算。如果是正数，只需在最高位补 0 即可。

```sh
# 十进制 -4
11111100
# 逻辑右移 63
00111111
# 算术右移 -1
11111111
```

# 浮点数

> 当前主流处理器一般都能支持 32 位的单精度浮点数与 64 位的双精度浮点数的表示和计算，并且能遵循 IEEE754-1985 工业标准。现在此标准最新的版本是 2008，其中增加了对 16 位半精度浮点数以及 128 位四精度浮点数的描述。C 语言标准引入了一个浮点模型，可用来表达任意精度的浮点数，尽管当前主流 C 语言编译器尚未很好地支持半精度浮点数与四精度浮点数的表示和计算。<br>

IEEE754-1985 对规格化单精度浮点数的格式如下定义：
1. 1 位符号位，一般是最高位（31 位），表示正负号。0 表示正数，1 表示负数。
2. 8 位指数位，又称阶码，位于 23 到 30 位。
3. 23 位尾数，位于 0 到 22 位。
