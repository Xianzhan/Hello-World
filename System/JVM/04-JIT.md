

JVM 将执行状态分成了 5 个层次:
- 0 层, 解释执行(Interpreter)
- 1 层, 使用 C1 即时编译器编译执行(不带 profiling)
- 2 层, 使用 C1 即时编译器编译执行(带基本的 profiling)
- 3 层, 使用 C1 即时编译器编译执行(带完全的 profiling)
- 4 层, 使用 C2 即时编译器编译执行

> profiling 是指在运行过程中收集一些程序执行状态的数据, 例如[方法的调用次数], [循环的汇编次数]等

即时编译(JIT)与解释器的区别

- 解释器是将字节码解释为机器码, 下次即使遇到相同的字节码, 仍会执行重复的解释
- JIT 是将一些字节码编译为机器码, 并存入 Code Cache, 下次遇到相同的代码, 直接执行, 无需再编译
- 解释器是将字节码解释为针对所有平台都通用的机器码
- JIT 会根据平台类型, 生成平台特定的机器码