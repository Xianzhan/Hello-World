<!-- TOC -->

- [启动退出](#启动退出)
- [模式](#模式)
- [命令历史](#命令历史)
- [文件](#文件)
- [插入文本](#插入文本)
- [删除文本](#删除文本)
- [复制黏贴](#复制黏贴)
- [查找文本](#查找文本)
- [替换文本](#替换文本)
- [移动光标](#移动光标)
- [撤销](#撤销)
- [窗口](#窗口)
- [shell](#shell)

<!-- /TOC -->

# 启动退出

`vim`: 打开某个文件<br>
`:q`:  未做任何修改退出<br>
`:wq`: 保存并退出<br>
`:q!`: 强制退出并忽略所有更新<br>
`:e!`: 放弃所有修改, 并打开原来文件<br>

# 模式

`Esc/Ctrl + [`: 进入正常模式<br>
`i`: 正常模式进入插入模式(可编辑)<br>
`v`: 正常模式进入可视模式<br>

# 命令历史

`:`, `/`: 可选择某个历史命令<br>

# 文件

`vim [file ...]`: 打开单个或多个文件<br>
`:open file`: 在 vim 窗口打开一个新文件<br>
`:split file`: 在新窗口中打开文件<br>
`:bn`: 切换到下一个文件<br>
`:bp`: 切换到上一个文件<br>
`:args`: 查看当前打开的文件列表, 当前文件会被 [] 括起来<br>
`:e ftp://file`: 打开远程文件<br>

# 插入文本

`i`: 在当前位置前插入<br>
`I`: 在当前行首插入<br>
`a`: 在当前位置后插入<br>
`A`: 在当前行尾插入<br>
`o`: 在当前行之后插入一行<br>
`O`: 在当前行之前插入一行<br>

# 删除文本

`x`: 删除当前字符<br>
`X`: 删除当前字符的前一个字符<br>
`dl`: 删除当前字符, dl = x<br>
`dh`: 删除前一个字符<br>
`dd`: 删除当前行<br>
`dj`: 删除上一行<br>
`dk`: 删除下一行<br>
`nd`: 删除当前行开始的 n 行<br>
`d$`: 删除当前字符之后的所有字符<br>

# 复制黏贴

`yy`: 拷贝当前行<br>
`p`: 在当前行光标后黏贴<br>

# 查找文本

正则查找

`/text`: 查找 "text", 按 n 键查找下一个, 按 N 键查找上一个<br>
`?text`: 查找 "text", 反向查找, 按 n 键查找下一个, 按 N 键查找前一个<br>
`:set ignorecase`: 设置忽略大小写<br>
`:set noignorecase`: 设置不忽略大小写<br>
`:set hlsearch`: 设置搜索结果高亮<br>
`:set nohlsearch`: 设置搜索结果不高亮<br>
`:set incsearch`: 逐步搜索, 每键入一个字符都搜索<br>

# 替换文本

正常模式

`ra`: 将当前字符替换为 'a'<br>
`:s/old/new/`: 将 "old" 替换为 "new"<br>
`:s/old/new/g`: 将当前行所有的 "old" 替换为 "new"<br>
`:%s/old/new/`: 将所有行的第一个 "old" 替换为 "new"<br>
`:%s/old/new/g`: 将整个文件的 "old" 替换为 "new"<br>
`:10,20 s/^/    /g`: 在第 10 行到第 20 行每行前面添加四个空格, 用于缩进<br>

# 移动光标

正常模式

`[n]h`: 左移 n 个字符(默认 n 为 1)<br>
`[n]l`: 右移 n 个字符<br>
`[n]k`: 上移 n 个字符<br>
`[n]j`: 下移 n 个字符<br>
`w`: 向后移动一个单词<br>
`b`: 向前移动一个单词<br>
`e`: 向后移动一个单词, 光标在词尾<br>
`^`: 移动到本行第一个非空白字符上<br>
`0`: 移动到本行第一个字符上<br>

`Ctrl + e`: 向下滚动一行<br>
`Ctrl + y`: 向上滚动一行<br>
`Ctrl + d`: 向下滚动半屏<br>
`Ctrl + u`: 向上滚动半屏<br>
`Ctrl + f`: 向下滚动一屏<br>
`Ctrl + b`: 向上滚动一屏<br>

# 撤销

`u`: 撤销(Undo)<br>
`U`: 撤销对整行的操作<br>

`Ctrl + r`: 重做(Redo)<br>

# 窗口

`:split`: 打开新窗口<br>
`:new`: 打开新窗口<br>
`:split file`: 横向窗口打开文件<br>
`:vsplit file`: 纵向窗口打开文件<br>
`:close`: 关闭窗口<br>
`:only`: 关闭其它窗口<br>

`Ctrl + ww`: 移动到下一个窗口<br>
`Ctrl + wj`: 移动到下方窗口<br>
`Ctrl + wk`: 移动到上方窗口<br>

# shell

`:!command`: 执行 command 命令<br>