<!-- TOC -->

- [整数类型](#整数类型)
    - [int](#int)
    - [short](#short)
    - [long](#long)
    - [long long](#long-long)
    - [布尔](#布尔)
    - [字符](#字符)
    - [宽字符以及 Unicode 字符](#宽字符以及-unicode-字符)
- [浮点类型](#浮点类型)
- [枚举](#枚举)
- [结构体](#结构体)
    - [位域](#位域)
- [联合体](#联合体)

<!-- /TOC -->

# 整数类型

C 语言中整数类型包括 int、short、long、long long、布尔、字符等，除了字符与布尔类型以外，其他所有整数类型都支持带符号与无符号的表示方式。此外，C 语言标准中没有明确规定每一种整数类型所占用的字节数，这些全都是由 C 语言的实现来定义的，但是 C 语言标准给了若干约束，所以 C 语言实现应该至少能满足这些约束。

## int

用关键字 `int` 声明的一个整数对象具有 int 类型。在具体的 C 语言执行环境中，int 数据的最小值与最大值分别定义为 `<limits.h>` 头文件中的 `INT_MIN` 和 `INT_MAX`。在我们常用的 32 位与 64 位环境中，int 默认为是带符号的（相当于 `signed int`），占用 4 个字节（即 32 位），其最小值为 0x80000000，最大值为 0x7FFFFFFF。int 所对应的无符号类型是 unsigned int，通常在 32 位与 64 位环境下也占用 4 个字节，最小值为 0，最大值为 0xFFFFFFFF。在具体 C 语言执行环境中的最大值定义为 `<limits.h>` 头文件中的 `UINT_MAX`。

## short

`short` 类型（标准表达为 `signed short int` 类型，其中 signed 与 int 均可省略）我们一般称之为短整型。在我们通常的 32 位及 64 位系统下占用 2 个字节（即 16 位），其最小值为 0x8000），最大值为 0x7FFF。在 C 语言执行环境下，其最大、最小值分别定义为 `<limits.h>` 头文件中的 `SHRT_MAX` 和 `SHRT_MIN`。short 类型所对应的无符号类型为 `unsigned short`（标准表达为 `unsigned short int`，其中 int 可省）。它通常在 32 位及 64 位系统下占 2 个字节，最小值为 0，最大值为 0xFFFF。在 C 语言执行环境中，其最大值定义为 `<limits.h>` 头文件中的 `USHRT_MAX`。

## long

`long` 类型（标准表达为 `signed long int` 类型，其中 signed 与 int 均可省略）我们一般称之为长整型。在我们通常的 32 位环境下 long 类型占用 4 个字节（即 32 位），而在 64 位系统下，当前几个主流桌面编译器就有所区别了。MSVC 与 VS-Clang 仍然为 4 个字节，而 GCC 与 Clang 则是 8 个字节（即 64 位）。long 类型所对应的无符号类型为 `unsigned long`（标准表达为 `unsigned long int`, int 可省），我们一般称之为无符号长整型，它的字节长度与 long 类型一致。在 C 语言执行环境中，long 类型的最小值与最大值分别定义为 `<limits.h>` 头文件中的 `LONG_MIN` 与 `LONG_MAX`。unsigned long 类型的最大值定义为 `<limits.h>` 头文件中的 `ULONG_MAX`，其最小值为 0。<br>
long 类型对应的整数字面量是在 int 整数字面量后面加上英文字母 `l` 或 `L`。unsigned long 对应的整数字面量是在 unsigned int 字面量后面加上字母 `ul` 或 `UL`。

## long long

C 语言标准对 `long long`（标准表达为 `signed long long int`，其中 signed 与 int 可省）类型提得不多，仅仅阐述了 long long 类型的精度至少为 long int 类型的精度。不过在当前几大主流桌面编译器中，无论是 32 位系统还是 64 位系统，long long 的宽度均为 8 个字节（即 64 位）。其最小值为 -2^63，最大值为 2^63-1。`long long` 对应的无符号类型为 `unsigned long long`（标准表达为 `unsigned long long int`, int 可省），同样也是 8 字节的宽度，最小值为 0，最大值为 2^64-1。在 C 语言执行环境下，long long 的最小值与最大值分别定义为 `<limits.h>` 头文件中的 `LLONG_MIN` 与 `LLONG_MAX`。unsigned long long 类型的最大值定义为 `<limits.h>` 头文件中的 `ULLONG_MAX`。<br>
long long 对应的整数字面量表示为 int 整数字面量后加后缀 `ll` 或 `LL`。unsigned long long 对应的整数字面量表示为 unsigned int 整数字面量后面加后缀 `ull` 或 `ULL`。

## 布尔

在计算机编程语言中，布尔类型的对象是一个二值数据对象。布尔类型用于表达真假逻辑关系，一般用 `true` 表示真，`false` 表示假。产生布尔值的表达式称为逻辑表达式或关系表达式（比如，大于、等于、小于、不等于等关系操作的结果）。在 C11 标准中，布尔类型用关键字 `_Bool` 声明，并说明布尔类型只要能够存放 0 和 1 值就行，也就是至少为 1 个比特。所以现在大部分对 `_Bool` 的 C 语言实现都将它作为 1 个字节的宽度。此外，`_Bool` 类型不能用 `signed` 和 `unsigned` 来修饰。

## 字符

C 语言中用关键字 `char` 来声明一个字符类型。C11 标准阐明了一个 char 类型的对象必须至少能存放基本执行字符集，并且如果一个基本执行字符存放在一个 char 类型的对象中的话，那么该 char 类型的对象的值必须保证为非负整数。所以，通常 C 语言的实现都会将 char 类型的宽度设置为一个字节，这样正好至少能存放 ASCII 码字符集。

## 宽字符以及 Unicode 字符

从 C99 标准中引入了 `wchar_t` 类型来表示一个多字节字符。wchar_t 并不是 C 语言的一个关键字，而是定义在 `<stddef.h>` 头文件中的一个宏类型。wchar_t 类型在不同环境，其长度也可能不一样，C 语言标准没有规定它必须占用多少字节。当前编译器一般将 wchar_t 定义为 4 个字节的宽度，有些老的编译器可能为 2 个字节。宽字符的字面量为一般字符字面量前加大写字母 L 前缀，这里各位要注意，必须是大写字母，不能是小写的。比如，`L'a'`、`L'你'` 等都属于 wchar_t 类型的宽字符字面量。宽字符在 C 语言中的定义比较模糊，它主要根据当前系统的语言环境设置，可能是 UTF-16 编码、GB2312、拉丁系编码格式等。宽字符在不同语言环境下，其相应的所显示出来的字样都可能会不同。由此，C 语言标准组织在 C11 标准中引入了 Unicode 字符类型。<br>

C11 中主要引入了 UTF-8 字符串、UTF-16 字符以及字符串类型和 UTF-32 字符及字符串类型。UTF-8 编码的长度范围为 1～4 个字节，所以在 C 语言中可以直接用 char 类型来表示当前一个 UTF-8 编码字符的一个字节，它已经涵盖了基本的 ASCII 码。如果要表示中文、日文等 UTF-8 字符的话，则需要使用字节数组。C11 中，引入了新的头文件 `<uchar.h>`，其中定义了 UTF-16 字符类型----char16_t 以及 UTF-32 字符类型----char32_t。不过 C 语言标准委员会做得非常灵活，在标准中提到，当 C 语言编译器预先定义了 `__STDC_UTF_16__` 这个宏时，char16_t 才保证被用作为 UTF-16 编码；当预先定义了 `__STDC_UTF_32__` 这个宏时，char32_t 才保证被用作为 UTF-32 编码；否则 char16_t 和 char32_t 可能会留作其他字符编码类型使用。在 C11 中，UTF-16 的字面量是在普通字符字面量前加小写字母 u，比如 `u'a'`、`u'我'` 等都是 UTF-16 字符字面量；UTF-32 的字面量是在普通字符字面量前加大写字母 U，比如 `U'b'`、`U'好'` 等都是 UTF-32 字符字面量。同样，C11 标准没有明确提到 char16_t 与 char32_t 的宽度，现在编译器一般将 char16_t 定义为 unsigned short 类型，占 2 个字节；将 char32_t 定义为 unsigned int 类型，占 4 个字节。

# 浮点类型

当前在 C 语言中有 3 种实数浮点类型，分别为 `float`、`double` 与 `long double`。C 语言标准仅仅规定了 float 类型的精度是 double 类型精度的子集；double 类型精度是 long double 精度的子集。在一般 C 语言实现中，将 float 类型设定为 32 位单精度浮点型，并采用 IEEE754 中的规格化浮点数表示方法；将 double 类型设定为 64 位双精度浮点型，并采用 IEEE754 中的规格化浮点数表示方法；long double 在 x86 架构处理器下表示扩展双精度浮点（80 位浮点数，一般占用 16 个字节），这是 Intel 自己扩展出来的浮点数格式。而在 ARM 等其他处理器架构下，long double 可能与 double 类型一样，表示双精度浮点类型，但宽度仍然可能是 16 字节，而不是 8 字节。在一些 GPU、DSP 或嵌入式处理器中，浮点类型可能支持部分 IEEE754 标准，甚至使用其他表示法也有可能，所以各位使用时需要注意。但在大部分桌面环境以及智能设备上都基本可以满足 IEEE754 标准。

C 语言还引入了十六进制浮点表示法，即一个十六进制数跟 `p` 或 `P`，再跟一个十进制数，表示 p 或 P 之前的十六进制数乘以 2p 之后的数。比如 `0x3P2` 相当于 `0x3*2^2`; `0x3.5P-3` 相当于 `0x3.5*2^-3`。这里需要注意的是，p 或 P 的左边必须是一个十六进制整数或浮点数，p 或 P 的右边必须是一个十进制整数，并且十六进制浮点数表示中，p 与指数部分不可缺省。


# 枚举

```c
enum 标识符 { 枚举符列表 }
```

枚举（enumeration）类型一般用于表示离散有限有个数值的数据对象。

# 结构体

```c
struct 标识符可省 { 结构体声明列表 }
```

C 语言中的结构体（structure）是对一组数据元素的有序组织。通过结构体，我们可以建立丰富多彩的数据结构，对现实世界建立概念模型。在结构体中我们可以存放任意类型的数据元素，包括整数类型、浮点类型、枚举类型，甚至嵌套其他结构体类型。C 语言标准又将数组和结构体称为聚合（aggregate）类型。要定义一个结构体类型，我们使用关键字 `struct`，后面紧跟的标识符就作为该结构体的类型名，该类型名在 C 语言标准中又称为此结构体的标签（tag）。结构体类型既可以定义在文件作用域，也可以定义在函数中。

## 位域

```c
<类型> <标识符>:<位宽表达式>;
```

如果结构体中的某一成员要作为位域，那么它必须是一个整数类型（包括布尔和枚举类型），而不能是浮点或其他类型。指定该位域宽度的表达式也应该是一个整数常量表达式，且表达式的值不能是负数。

限制: 
1. 不能对位域成员做取地址操作；
2. 位域成员不能作为sizeof的操作数；
3. 不能用对齐属性来修饰位域；
4. 指定位域位宽的常量值不能超过该类型可表示的范围。

# 联合体

```c
union 标识符可省 { 联合体声明列表 }
```

联合体（union）类型是 C 语言中比较特别的类型，在整个计算机编程语言中，除了与 C 语言基本兼容的 C++ 和 Objective-C 支持外，也就只有 COBOL 支持这种类型了。联合体的声明形式与结构体类似，但是与结构体不同的是，联合体对象中的所有成员共享同一存储区域。联合体使用关键字 `union` 来声明，union 后面可跟一个标识符作为该联合体的名字，如果该标识符缺省，那么称此联合体为匿名联合体。


