<!-- TOC -->

- [作用域](#作用域)
    - [文件作用域](#文件作用域)
    - [函数作用域](#函数作用域)
    - [函数原型作用域](#函数原型作用域)
    - [语句块作用域](#语句块作用域)

<!-- /TOC -->

# 作用域

C 语言程序中，一个标识符（identif ier）可用来表示一个对象，函数，结构体、联合体以及枚举的名称或是它们的成员（枚举的成员又被称为枚举常量），typedef 名，跳转标签名，宏名，或是一个宏形参。同一个标识符在程序中的不同位置可能会表示不同的实体，也就是说在 C 语言中，标识符允许被覆盖。

对于一个标识符所指代的每个不同的实体，只有在一个程序文本的区域内，该标识符才是“可见的”，这个区域就被称为作用域（scope）。如果某个标识符同时指代了多个不同的实体，那么这些实体要么具有不同的作用域，要么在不同的名字空间中。C 语言一共有 4 种作用域，分别是：函数作用域、文件作用域、语句块作用域以及函数原型作用域。

## 文件作用域

在 C 语言标准中，对具有文件作用域的标识符的定义非常有意思，用的是排除法——如果一个标识符声明在所有语句块之外，同时也在形参列表之外，那么我们称该标识符具有文件作用域。文件作用域从当前源文件开始一直到源文件末尾结束。

## 函数作用域

C 语言标准明确规定，跳转标签名是仅有的具有函数作用域的标识符。函数作用域从一个函数体的开始（即紧跟在{符号的后面），一直到函数体结束（即紧跟在}符号前面）。跳转标签可以出现在函数体中的任何位置，在使用时，随着 `goto` 语句一起出现。

## 函数原型作用域

C 语言标准指出，如果一个标识符是声明在一个函数原型（该函数原型不作为函数定义的一部分）中的形参列表内，那么该标识符则具有函数原型作用域。函数原型作用域从形参列表的“(”开始，到函数声明符的末尾结束。

## 语句块作用域

C 语言标准指出，如果一个标识符的声明出现在一个语句块内，或是出现在一个函数定义中的形参声明列表中，那么该标识符具有语句块作用域。语句块作用域是从当前语句块的 { 开始一直到 } 结束。
